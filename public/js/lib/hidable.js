$(function(){window.WGST.exports.createHidable=function(e,a,d){if("undefined"!=typeof e.split("__")[2]){if("COLLECTION_TREE"===e.split("__")[2]||"CORE_ALLELE_TREE"===e.split("__")[2])return;if("CORE_TREE_RESULT"===e.split("__")[2]){var d=d||{};d.hidableLabel="Tree"}}if($('.wgst-hidable[data-hidable-id="'+e+'"]').addClass("wgst-hidable--active"),!($('.wgst-hidable[data-hidable-id="'+e+'"]').length>0)){var i="hidable",l={hidableId:e,hidableLabel:a};"undefined"!=typeof d&&$.extend(l,d),"undefined"!=typeof e.split("__")[2]?l.noFullscreen=!0:"undefined"!=typeof e.split("__")[0]&&"assembly"===e.split("__")[0]?(l.noFullscreen=!0,l.close=!0):("assembly-upload-navigation"===e||"assembly-upload-analytics"===e||"assembly-upload-metadata"===e||"assembly-upload-progress"===e)&&(l.noFullscreen=!0,l.close=!1);var t=$('.wgst-template[data-template-id="'+i+'"]').html(),s=Handlebars.compile(t),n=s(l);$(".wgst-hidables").prepend(n)}},window.WGST.exports.removeHidable=function(e){$('.wgst-hidable[data-hidable-id="'+e+'"]').remove()},window.WGST.exports.hidablePanelShown=function(e){$('.wgst-hidable[data-hidable-id="'+e+'"]').find(".wgst-hidable-panel").find(".fa-square-o").removeClass("fa-square-o").addClass("fa-square").addClass("wgst-hidable--active"),$('.wgst-hidable[data-hidable-id="'+e+'"]').addClass("wgst-hidable--active")},window.WGST.exports.hidablePanelHidden=function(e){1===$('.wgst-hidable[data-hidable-id="'+e+'"]').find(".wgst-hidable--active").length&&$('.wgst-hidable[data-hidable-id="'+e+'"]').removeClass("wgst-hidable--active"),$('.wgst-hidable[data-hidable-id="'+e+'"]').find(".wgst-hidable-panel").find(".fa-square").removeClass("fa-square").removeClass("wgst-hidable--active").addClass("fa-square-o")},window.WGST.exports.hidablePanelRemoved=function(e){"assembly-upload-analytics"===e||"assembly-upload-metadata"===e||"assembly-upload-navigation"===e||"assembly-upload-progress"===e?window.WGST.exports.removeHidable(e):window.WGST.exports.hidablePanelHidden(e)},window.WGST.exports.hidableFullscreenShown=function(e){$('.wgst-hidable[data-hidable-id="'+e+'"]').find(".wgst-hidable-fullscreen").find(".fa-arrows-alt").addClass("wgst-hidable--active"),$('.wgst-hidable[data-hidable-id="'+e+'"]').addClass("wgst-hidable--active")},window.WGST.exports.hidableFullscreenRemoved=function(e){1===$('.wgst-hidable[data-hidable-id="'+e+'"]').find(".wgst-hidable--active").length&&$('.wgst-hidable[data-hidable-id="'+e+'"]').removeClass("wgst-hidable--active"),$('.wgst-hidable[data-hidable-id="'+e+'"]').find(".wgst-hidable-fullscreen").find(".fa-arrows-alt").removeClass("wgst-hidable--active")},$("body").on("mouseenter",".wgst-hidable",function(){var e=$(this).attr("data-hidable-id");$(this).find(".wgst-hidable-toggle").addClass("hide-this"),$(this).find(".wgst-hidable-controls").removeClass("hide-this");var a=$(this).find(".wgst-hidable-controls .wgst-hidable--active"),d=a.closest("a").attr("class");"wgst-hidable-panel"===d?window.WGST.exports.bringPanelToFront(e):window.WGST.exports.bringFullscreenToFront(e)}),$("body").on("mouseleave",".wgst-hidable",function(){var e=$(this).attr("data-hidable-id");$(this).find(".wgst-hidable-controls").addClass("hide-this"),$(this).find(".wgst-hidable-toggle").removeClass("hide-this");var a=$(this).find(".wgst-hidable-controls .wgst-hidable--active"),d=a.closest("a").attr("class");"wgst-hidable-fullscreen"===d&&window.WGST.exports.bringFullscreenToBack(e)}),$("body").on("click",".wgst-hidable-panel",function(e){var a=$(this).closest(".wgst-hidable").attr("data-hidable-id");$('.wgst-fullscreen[data-fullscreen-id="'+a+'"]').length>0?window.WGST.exports.bringFullscreenToPanel(a):(window.WGST.exports.togglePanel(a),window.WGST.exports.bringPanelToFront(a)),e.preventDefault()}),$("body").on("click",".wgst-hidable-fullscreen",function(e){var a=$(this).closest(".wgst-hidable").attr("data-hidable-id");$('.wgst-panel[data-panel-id="'+a+'"]').length>0&&window.WGST.exports.maximizePanel(a),$('.wgst-hidable[data-hidable-id="'+a+'"]').addClass("wgst-hidable--active"),e.preventDefault()}),$("body").on("click",".wgst-hidable-close",function(e){var a=$(this).closest(".wgst-hidable").attr("data-hidable-id");$('.wgst-panel[data-panel-id="'+a+'"]').length>0&&window.WGST.exports.removePanel(a),window.WGST.exports.removeHidable(a),e.preventDefault()})});