$(function(){window.WGST.exports.createHidable=function(e,a,l){if("undefined"!=typeof e.split("__")[2]){if("COLLECTION_TREE"===e.split("__")[2]||"CORE_ALLELE_TREE"===e.split("__")[2])return;if("CORE_TREE_RESULT"===e.split("__")[2]){var l=l||{};l.hidableLabel="Tree"}}if($('.wgst-hidable[data-hidable-id="'+e+'"]').addClass("wgst-hidable--active"),!($('.wgst-hidable[data-hidable-id="'+e+'"]').length>0)){var i="hidable",t={hidableId:e,hidableLabel:a};"undefined"!=typeof l&&$.extend(t,l),"undefined"!=typeof e.split("__")[2]?t.noFullscreen=!0:"undefined"!=typeof e.split("__")[0]&&"assembly"===e.split("__")[0]?(t.noFullscreen=!0,t.close=!0):("assembly-upload-navigation"===e||"assembly-upload-analytics"===e||"assembly-upload-metadata"===e||"assembly-upload-progress"===e)&&(t.noFullscreen=!0,t.close=!1);var d=$('.wgst-template[data-template-id="'+i+'"]').html(),s=Handlebars.compile(d),n=s(t);$(".wgst-hidables").prepend(n)}},window.WGST.exports.removeHidable=function(e){$('.wgst-hidable[data-hidable-id="'+e+'"]').remove()},window.WGST.exports.hidableDidUpdate=function(){},window.WGST.exports.hidablePanelShown=function(e){$('.wgst-hidable[data-hidable-id="'+e+'"]').find(".wgst-hidable-panel").find(".fa-eye").removeClass("fa-eye").addClass("fa-eye-slash").addClass("wgst-hidable--active"),$('.wgst-hidable[data-hidable-id="'+e+'"]').addClass("wgst-hidable--active")},window.WGST.exports.hidablePanelHidden=function(e){1===$('.wgst-hidable[data-hidable-id="'+e+'"]').find(".wgst-hidable--active").length&&$('.wgst-hidable[data-hidable-id="'+e+'"]').removeClass("wgst-hidable--active"),$('.wgst-hidable[data-hidable-id="'+e+'"]').find(".wgst-hidable-panel").find(".fa-eye-slash").removeClass("fa-eye-slash").removeClass("wgst-hidable--active").addClass("fa-eye")},window.WGST.exports.hidablePanelRemoved=function(e){"assembly-upload-analytics"===e||"assembly-upload-metadata"===e||"assembly-upload-navigation"===e||"assembly-upload-progress"===e?window.WGST.exports.removeHidable(e):window.WGST.exports.hidablePanelHidden(e)},window.WGST.exports.hidableFullscreenShown=function(e){$('.wgst-hidable[data-hidable-id="'+e+'"]').find(".wgst-hidable-fullscreen").find(".fa-arrows-alt").addClass("wgst-hidable--active"),$('.wgst-hidable[data-hidable-id="'+e+'"]').addClass("wgst-hidable--active")},window.WGST.exports.hidableFullscreenRemoved=function(e){1===$('.wgst-hidable[data-hidable-id="'+e+'"]').find(".wgst-hidable--active").length&&$('.wgst-hidable[data-hidable-id="'+e+'"]').removeClass("wgst-hidable--active"),$('.wgst-hidable[data-hidable-id="'+e+'"]').find(".wgst-hidable-fullscreen").find(".fa-arrows-alt").removeClass("wgst-hidable--active")},$("body").on("click",".wgst-hidable",function(){var e=$(this).find(".wgst-hidable-controls");e.toggleClass("hide-this")}),$("body").on("mouseenter",".wgst-hidable",function(){var e=$(this).attr("data-hidable-id"),a=$(this).find(".wgst-hidable-controls .wgst-hidable--active"),l=a.closest("a").attr("class");"wgst-hidable-panel"===l?window.WGST.exports.bringPanelToFront(e):window.WGST.exports.bringFullscreenToFront(e)}),$("body").on("mouseleave",".wgst-hidable",function(){var e=$(this).attr("data-hidable-id");$(this).find(".wgst-hidable-controls").addClass("hide-this");var a=$(this).find(".wgst-hidable-controls .wgst-hidable--active"),l=a.closest("a").attr("class");"wgst-hidable-fullscreen"===l&&window.WGST.exports.bringFullscreenToBack(e)}),$("body").on("click",".wgst-hidable-panel",function(e){var a=$(this).closest(".wgst-hidable").attr("data-hidable-id");$('.wgst-fullscreen[data-fullscreen-id="'+a+'"]').length>0?window.WGST.exports.bringFullscreenToPanel(a):(window.WGST.exports.togglePanel(a),window.WGST.exports.bringPanelToFront(a)),e.preventDefault()}),$("body").on("click",".wgst-hidable-fullscreen",function(e){var a=$(this).closest(".wgst-hidable").attr("data-hidable-id");$('.wgst-panel[data-panel-id="'+a+'"]').length>0?(window.WGST.exports.maximizePanel(a),$('.wgst-hidable[data-hidable-id="'+a+'"]').addClass("wgst-hidable--active")):$('.wgst-fullscreen[data-fullscreen-id="'+a+'"]').length>0&&(window.WGST.exports.bringFullscreenToPanel(a),window.WGST.exports.togglePanel(a)),e.preventDefault()}),$("body").on("click",".wgst-hidable-close",function(e){var a=$(this).closest(".wgst-hidable").attr("data-hidable-id");$('.wgst-panel[data-panel-id="'+a+'"]').length>0&&window.WGST.exports.removePanel(a),window.WGST.exports.removeHidable(a),e.preventDefault()}),$("body").on("click",".wgst-hidable-focus",function(e){var a=$(this).closest(".wgst-hidable").attr("data-hidable-id"),l=$('.wgst-panel[data-panel-id="'+a+'"]');if(l.length>0){var i;$(".wgst-panel").each(function(){i=$(this).attr("data-panel-id"),i!==a&&window.WGST.exports.hidePanel(i)}),(l.hasClass("hide-this")||l.hasClass("invisible-this"))&&window.WGST.exports.showPanel(a)}else $('.wgst-fullscreen[data-fullscreen-id="'+a+'"]').length>0&&($(".wgst-panel").each(function(){i=$(this).attr("data-panel-id"),window.WGST.exports.hidePanel(i)}),window.WGST.exports.showFullscreen(a));e.preventDefault()})});