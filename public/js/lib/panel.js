$(function(){!function(){window.WGST.exports.mapPanelTypeToPanelHeaderTemplateId={assembly:"panel-header__assembly","collection-data":"panel-header__collection-data","collection-tree":"panel-header__collection-tree","collection-map":"panel-header__collection-map","assembly-upload-metadata":"panel-header__assembly-upload-metadata","assembly-upload-navigation":"panel-header__assembly-upload-navigation","assembly-upload-analytics":"panel-header__assembly-upload-analytics","assembly-upload-progress":"panel-header__assembly-upload-progress"},window.WGST.exports.mapPanelTypeToPanelBodyTemplateId={assembly:"panel-body__assembly","collection-data":"panel-body__collection-data","collection-tree":"panel-body__collection-tree","collection-map":"panel-body__collection-map","assembly-upload-metadata":"panel-body__assembly-upload-metadata","assembly-upload-navigation":"panel-body__assembly-upload-navigation","assembly-upload-analytics":"panel-body__assembly-upload-analytics","assembly-upload-progress":"panel-body__assembly-upload-progress"},window.WGST.exports.mapPanelTypeToPanelButtonRules={assembly:{noFullscreenButton:!0},"collection-data":{noCloseButton:!0},"collection-tree":{noFullscreenButton:!0,noCloseButton:!0},"collection-map":{noCloseButton:!0},"assembly-upload-metadata":{noFullscreenButton:!0,noCloseButton:!0},"assembly-upload-navigation":{noFullscreenButton:!0,noCloseButton:!0},"assembly-upload-analytics":{noFullscreenButton:!0,noCloseButton:!0},"assembly-upload-progress":{noFullscreenButton:!0,noCloseButton:!0}},window.WGST.exports.createPanel=function(e,a){if($('.wgst-panel[data-panel-id="'+a.panelId+'"]').length>0)return window.WGST.exports.showPanel(a.panelId),void 0;a=$.extend(a,window.WGST.exports.mapPanelTypeToPanelButtonRules[e]),a.panelLabel=window.WGST.exports.getContainerLabel({containerName:"panel",containerType:e,containerId:a.panelId,containerContext:a});var n=$('.wgst-template[data-template-id="panel"]').html(),t=Handlebars.compile(n),l=window.WGST.exports.mapPanelTypeToPanelHeaderTemplateId[e];Handlebars.registerPartial("header",$('.wgst-template[data-template-id="'+l+'"]').html());var o=window.WGST.exports.mapPanelTypeToPanelBodyTemplateId[e];Handlebars.registerPartial("body",$('.wgst-template[data-template-id="'+o+'"]').html());var s=t(a);$(".wgst-workspace").prepend(s);var d=$('.wgst-panel[data-panel-id="'+a.panelId+'"]');d.draggable({handle:d.find(".wgst-draggable-handle"),appendTo:".wgst-page__app",scroll:!1}),window.WGST.exports.createHidable(a.panelId,a.panelLabel)},window.WGST.exports.removePanel=function(e){$('.wgst-panel[data-panel-id="'+e+'"]').remove(),window.WGST.exports.hidablePanelRemoved(e),"collection-map"===e&&window.WGST.geo.map.remove()},window.WGST.exports.showPanel=function(e){$('.wgst-panel[data-panel-id="'+e+'"]').removeClass("wgst--hide-this wgst--invisible-this"),window.WGST.exports.happenedShowPanel(e)},window.WGST.exports.hidePanel=function(e){$('.wgst-panel[data-panel-id="'+e+'"]').addClass("wgst--invisible-this"),window.WGST.exports.happenedHidePanel(e)},window.WGST.exports.isPanelExists=function(e){return $('.wgst-panel[data-panel-id="'+e+'"]').length>0?!0:!1},window.WGST.exports.togglePanel=function(e){var a=$('.wgst-panel[data-panel-id="'+e+'"]');a.is(".wgst--hide-this, .wgst--invisible-this")?window.WGST.exports.showPanel(e):window.WGST.exports.hidePanel(e)},window.WGST.exports.bringPanelToFront=function(e){window.WGST.exports.bringContainerToFront("panel",e)},window.WGST.exports.maximizePanel=function(e){var a=$(".wgst-fullscreen").attr("data-fullscreen-id");window.WGST.exports.bringFullscreenToPanel(a),window.WGST.exports.hidePanel(a),window.WGST.exports.bringPanelToFullscreen(e),google.maps.event.trigger(window.WGST.geo.map.canvas,"resize")},window.WGST.exports.getContainerLabel=function(e){var a="Anonymous";return"collection-data"===e.containerType?a="Data":"collection-map"===e.containerType?a="Map":"collection-tree"===e.containerType?a="Tree":"assembly"===e.containerType?a=e.containerContext.assemblyUserId:"assembly-upload-progress"===e.containerType?a="Upload Progress":"assembly-upload-metadata"===e.containerType?a="Assembly Metadata":"assembly-upload-analytics"===e.containerType?a="Assembly Analytics":"assembly-upload-navigation"===e.containerType&&(a="Collection Navigation"),a},$("body").on("click",'[data-panel-header-control-button="fullscreen"]',function(){var e=$(this).closest(".wgst-panel"),a=e.attr("data-panel-id");$('[data-hidable-id="'+a+'"]').find('[data-wgst-hidable-button="fullscreen"]').trigger("click")}),$("body").on("click",'[data-panel-header-control-button="close"]',function(){var e=$(this).closest(".wgst-panel"),a=e.attr("data-panel-id");$('[data-hidable-id="'+a+'"]').find('[data-wgst-hidable-button="close"]').trigger("click")}),$("body").on("click",'[data-panel-header-control-button="hide"]',function(){var e=$(this).closest(".wgst-panel"),a=e.attr("data-panel-id");$('[data-hidable-id="'+a+'"]').find('[data-wgst-hidable-button="hide"]').trigger("click")}),$("body").on("mousedown",".wgst-panel",function(){window.WGST.exports.bringPanelToFront($(this).attr("data-panel-id"))})}()});