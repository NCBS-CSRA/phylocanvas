(function(){

    $('.wgst-dropped-assembly-list-navigation-button__previous').on('click', showNextAssembly);
    $('.wgst-dropped-assembly-list-navigation-button__previous').on('click', showPreviousAssembly);

    var showPreviousAssembly = function() {
        console.debug('::: Showing previous assembly');
        $('.wgst-dropped-assembly-list option:selected').prev().prop('selected', 'selected');

        // var currentAssemblyIndex = getIndexOfDroppedAssemblyCurrentlyDisplayed();
        // console.log('~~~ currentAssemblyIndex: ' + currentAssemblyIndex);
        // showAssembly(currentAssemblyIndex - 1);
        // var previousAssemblyFileUid = WGST.dragAndDrop.loadedFiles[currentAssemblyIndex - 1].uid;
        // showDroppedAssembly(previousAssemblyFileUid);
    };
    var showNextAssembly = function() {
        console.debug('::: Showing next assembly');
        $('.wgst-dropped-assembly-list option:selected').next().prop('selected', 'selected');

        // var currentAssemblyFileId = $('.wgst-dropped-assembly-list').val();

        // var currentAssemblyIndex = getIndexOfDroppedAssemblyCurrentlyDisplayed();
        // console.log('~~~ currentAssemblyIndex: ' + currentAssemblyIndex);
        // showAssembly(currentAssemblyIndex + 1);
        // // var nextAssemblyFileUid = WGST.dragAndDrop.loadedFiles[currentAssemblyIndex + 1].uid;
        // // showDroppedAssembly(nextAssemblyFileUid);
    };
    var showAssembly = function(index) {
        console.debug('index: ' + index);
        console.debug('WGST.dragAndDrop.loadedFiles:');
        console.dir(WGST.dragAndDrop.loadedFiles);

        var assemblyFileUid = WGST.dragAndDrop.loadedFiles[index].uid;
        showDroppedAssembly(assemblyFileUid);  
    };

})();